# 数字调制与多路复用
不得不用模拟信号来表示比特
**比特与代表它们的模拟信号之间的转换过程称为数字调制**
把数据比特直接转换为信号的方案-》
### 基带传输
信号的传输占有传输介质上从0到最大值之间的全部频率
最大频率取决于信号速率
普遍用于有线介质

### 通带传输
信号占据了以载波信号频率为中心的一段频带
通过调节载波信号的幅值 相位 频率来运载比特的调制方式
多用于无线和光纤信道（只能在给定的频带中传输信号）

### 多路复用技术
信号被多个信号共享
单根线缆传输几个信号
- 时分复用
- 频分复用
- 码分复用

## 基带传输
### 不归零编码方案（NRZ）
正电压表示1 负电压表示0
有光表示1 无光表示0
简单 很少被使用
稍复杂的编码方案可以将比特转换为更满足工程考虑的信号-》**线路编码**
#### 带宽效率
使用NRZ编码 至少需要B/2Hz的带宽才能获得Bbps的比特率
限制：尼奎斯特定律
没有更宽的带宽 不可能获得比NRZ更快的速率
即是对有线信道也一样（信号频率越高 衰减越大）
可以不使用二进制 也可以在减少所需的带宽
这样改变的是**符号率**（**波特率**）
#### 时钟恢复
如果经过一长串0或1 接收器很难区分出各个比特 除非有一个非常准确的时钟
##### 解决方法：
- 每个设备都安装一个精确的时钟
太贵
- 时钟漂移比最长允许运行的微秒零头还要小
要求太高 慢速链路才可以
- 给接收器发送一个单独的时钟信号
单独的一个时钟线-》太浪费
不如数据信号和时钟信号异或混合发送
##### 曼彻斯特编码
两倍于比特率的速度运行
电压0 从低到高
电压1 从高到低
主要用于经典以太网
缺点：需要2倍于NRZ的带宽

可以看到：只有在面临一长串0 或 1 才会出现这种问题 如果有频繁的数据交换 则很容易保持同步

##### 不归零逆转（NRZI）
1 定义为信号有跳变
0 定义为信号无跳变
用于USB
再长的一段1都不会产生时钟恢复问题
但一长串的0仍有问题
解决方法
- 要求不可以发一长串的0
- 4B/5B
每4个比特映射为5个比特
转换表保证永远不会出现连续3个0
增加了25%的带宽开销
但是还剩了很多代码组合可以用
11111 线路空闲
11000 一个帧的开始
##### 扰频/倒频
在这种情况下 很可能出现频繁地信号转换
原理：在发送数据之前 用一个伪随机序列异或该数据
导致数据很随机 一般不会出现大量的0 或 1
不增加带宽
可能会有用户恶意发送杀手数据包使链路中出现一长串0

#### 平衡信号
短时间内正电压与负电压一样多的信号称为**平衡信号**
没有直流电气分量-》对于带有变压器的同轴电缆或线路来说 信道对直流分量有强烈的衰减

##### 双极编码
用+1和-1来表示1 发送1时 在+1和-1上进行随机选择
##### 8B/10B
每个码映射到两个码 一个1多 一个0多
发送第二个5个比特时看一下前面的数据 发送平衡的码

## 通带传输
通带内的载波进行调制从而携带原基带中的信息 再将通带信息转回基带信息即可
- 幅移键控
- 相移键控
- 频移键控
由于频率与相位相关 所以每次只能调整频率和相位中的一个
而振幅和相位则可以同时调整
星座图
QAM-16
QAM-64
格雷码-解码符号接近发送符号时 只会产生单个比特的错误

**要多个信号共享传输线路**
### 频分复用（FDM）
直接把频率切开
例如广播台
AM调幅广播一共1MHz 每个广播台分一部分频率 且相邻信道的间隔足够大防干扰
频分复用（FDM）技术
如今电话网 蜂窝电话 地面无线 卫星网络仍在使用更高粒度的FDM

#### 正交频分复用（OFDM）
发送数字数据时完全有可能把频谱有效率的划分为没有保护带
刚刚好在中心频率采样能保证不受他们的邻居影响
OFDM已广泛用于802.11 有线电视网络 和电力线网络 计划用于4G

### 时分复用（TDM）
用户循环方式轮流工作 每个用户周期性的获得整个带宽非常短的一个时间

为了适应时钟 要增加保护时间
广泛应用于电话网络和蜂窝网络

### 码分复用（CDM）
能把一个窄带信号扩展到一个很宽的频带
可以容忍干扰
允许来自不同用户的多个信号共享相同的频带
最常用于最后的用途 所以被称为码分多址（CDMA）
每个站分一个码片
各个码片之间都是正交的（Walsh码）
发1 就发码片
发0 就发码片的逆
不发就静默
监听哪个站，就用哪个站的码片去点乘总的数据和 就可以提取出表示的是1 -1（表示0）还是静默（0）
理论上具有足够计算能力 可以一次收听并解码所有的信息
但是实际上知道哪个发送方在传输更有用
现实中还不一定同步 因此出现了异步CDMA


