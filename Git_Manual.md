# git使用指南
**不会用git真的很要命**

## git的好处
一大堆 自行Google

## git的文件结构
**划重点**
分三个：

- 工作目录
- 暂存区域
- 仓库

文件的三种状态：

- 已提交
- 已修改
- 已暂存

一般git的工作流程

- 在工作目录中修改某些文件
- 对修改的文件进行快照 并存储在暂存区域中
- 提交更新 将暂存区域的文件快照永久转储到git目录中

所以说 如果文件在git仓库中 就是已提交状态

如果文件进行了修改并放入暂存区 就属于已暂存状态

如果做了修改但没有放到暂存区域 就是已修改状态

## git的初始配置
在任何一个新的环境中使用git 都需要进行git的基本配置 

即配置用户信息
```
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
```

告知git你是谁

然后还可以指定git给你通知的文本编辑器之类的 不过就没多重要了

使用
```
git config --list
```
查看你的配置

直接查看变量名

```
$ git config user.name
```

## git仓库的创建
### 以本地的某些文件为基础建立
首先初始化一个空的git仓库
```
$ git init
```
然后在你当前的目录下就会出现一个.git目录

但是你的仓库还是空的

所以使用
```
$ git add FILE
```
把你想加入该仓库的文件加入了仓库

### 以远程的仓库为基础克隆
使用
```
$ git clone URL
```
进行对远程仓库的克隆

当然也可以使用
```
$ git clone URL MYNAME
```
来给你克隆的仓库换个名字

关于使用的url

你可以使用git协议

也可以使用http(s)协议

或自己远程服务器上的ssh协议

## git文件的状态
### 文件状态查看
本地目录下文件有两个状态

- 已跟踪
- 未跟踪

所有的已跟踪文件也有三个状态

- 未修改
- 已修改（默认未暂存
- 已暂存

通过
```
$ git status
```
检查文件的状态

会返回是否有未跟踪的文件
是否有已暂存 已修改的文件

如果在该文件夹下创建一个文件

就要使用之前提到过的
```
$ git add FILE
```
命令将该文件加入git文件管理的范畴

该命令自动将一个新文件加入已暂存的文件夹中

也即'to be committed'

当一个文件被修改后 会处于unstaged状态

这时需要
```
$ git add FILE
```
将该文件由unstage状态加入staged状态

也即目前
···
$ git add
···
命令的功能有两个 但是都是将文件加入unstaged状态

### 忽略某些文件
有些日志文件 或编译过程中的临时文件 如果总出现在git管理的体系下会很烦

这可以通过建立一个.gitignore文件

.gitignore文件使用glob模式进行编辑
出现在任何一行的 除非使用#注释的满足glob正则表达式的文件或文件夹（用/结尾）都会被ignore

**glob简化正则表达式相关内容见我的GitHub下另一篇**

### 文件区别查看
我们可以使用
```
$ git diff
```
命令来查看修改后的文件和暂存的文件之间的区别

或者使用
```
$ git diff --cached
```
来查看

### git commit
该命令是将所有已暂存的文件提交到远程仓库

提交时会出现一个vim（或你指定的编辑器框）来让你给出说明

后面的附加注释内容还有本次提交的一些细节

如果想保留所有改动细节 可以使用
```
$ git commit -v
```
当然也可以使用
```
$ git commit -m "STATEMENTS"
```
简化流程

**如果觉得暂存这个过程很烦 可以使用'git commit -a'将所有的跟踪过的文件进行提交**

### 文件的移除
使用
```
$ git rm FILE
```
对已跟踪文件进行删除

除了git管理体系下这个文件消失了 你的本地文件目录中这个文件也消失了

如果该文件在删除之前已经修改过

为了防止误删（因为远程仓库中没有关于该文件的记录

使用
```
$ git rm -f FILE 
```
强制删除

如果只想删除在git管理体系下的存在 而不是删除文件本身 使用
```
$ git rm --cached FILE
```

### 文件改名
使用
```
$ git mv OLDNAME NEWNAME
```
进行改名操作

## 撤销操作

## 不用每次push时候都写用户名&密码 
```
  git config --global credential.helper store
```
